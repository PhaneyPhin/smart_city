{"remainingRequest":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sovannarith Phan\\smart_city\\web\\src\\views\\pages\\device-type\\DeviceTypeConfigField.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\src\\views\\pages\\device-type\\DeviceTypeConfigField.vue","mtime":1580378734533},{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1579332194156},{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1579332188909},{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1579332194156},{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1579332241739}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  props:{\r\n    field_editing:{\r\n      type:Object,\r\n      required:true\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      configPopUp:false,\r\n      title:'Add Field',\r\n      device_type_configs:[],\r\n      editObj:{},\r\n    }\r\n  },\r\n  created(){\r\n    this.initVal();\r\n    this.getData();\r\n  },\r\n  methods:{\r\n    initVal(){\r\n      this.editObj={\r\n        config_id:\"\",\r\n        field_name:\"\",\r\n        device_type_id:this.field_editing.device_type_id\r\n      }\r\n    },\r\n    addDeviceConfig(){\r\n      this.configPopUp=true;\r\n    },\r\n    do_save(){\r\n       console.log('saved clicked')\r\n\r\n    },\r\n    async save(){\r\n      var result=await this.$validator.validateAll();\r\n      console.log(result);\r\n       if(result){\r\n               console.log(111);\r\n                var url=\"\";\r\n                if(this.editObj.config_id==\"\"){\r\n                    var result=await this.$service.postData('device-type-config/addDeviceTypeConfig',this.editObj);\r\n                }else{\r\n                    var result=await this.$service.postData('device-type-config/updateDeviceTypeConfig',this.editObj);\r\n                }\r\n                this.configPopUp=false;\r\n                \r\n                if(result.code==1){\r\n                        \r\n                        this.$swal(this.$t('data was saved!!'),'','success');\r\n                    }  else{\r\n                        this.$vs.notify({\r\n                            title:'Danger',\r\n                            text:result.message,\r\n                            color:'success'\r\n                        })\r\n                    }   \r\n                  this.initVal();\r\n\r\n                this.getData();\r\n            }\r\n    },\r\n    async save_field(){\r\n     \r\n      this.$validator.validateAll().then(async result => {\r\n          if(result){\r\n             this.configPopUp=false;\r\n            var url=\"\";\r\n            if(this.editObj.config_id==''){\r\n              url=\"addDeviceTypeConfig\";\r\n            }else{\r\n              url=\"updateDeviceTypeConfig\";\r\n            }\r\n            console.log(this.editObj);\r\n            var response = await this.$service.postData(`device-type-config/${url}`,this.editObj);\r\n            if(response.code==1){\r\n              this.$swal('data was saved','','success').then((result)=>{\r\n                 this.getData();\r\n                 this.initVal();\r\n              });\r\n             \r\n            }else{\r\n              this.$swal(response.message,'','error');\r\n            }\r\n          }else{\r\n            console.log('invlid')\r\n          }\r\n      });\r\n    \r\n    },\r\n    edit(tr){\r\n      this.editObj={...tr};\r\n      this.configPopUp=true;\r\n    },\r\n    async getData(){\r\n      try{\r\n        var configFieldResponse=await this.$service.postData(\"device-type-config/getDeviceTypeConfig\",{device_type_id:this.field_editing.device_type_id});\r\n        this.device_type_configs=configFieldResponse.data;\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n\r\n  }\r\n}\r\n",{"version":3,"sources":["DeviceTypeConfigField.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"DeviceTypeConfigField.vue","sourceRoot":"src/views/pages/device-type","sourcesContent":["<template>\r\n    <div class=\"w-full\">\r\n        <vs-button color=\"primary\" @click=\"addDeviceConfig()\">Add Device Type Config</vs-button>\r\n          <vs-table max-items=\"10\" search pagination :data=\"device_type_configs\">\r\n            <template slot=\"thead\">\r\n              <vs-th colspan=\"2\">field ID</vs-th>\r\n              <vs-th>field name</vs-th>\r\n              <vs-th>edit</vs-th>\r\n              <vs-th>delete</vs-th>\r\n            </template>\r\n\r\n            <template slot-scope=\"{data}\">\r\n              <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                <vs-td colspan=\"2\" :data=\"tr.config_id\">{{ tr.config_id }}</vs-td>\r\n\r\n                <vs-td :data=\"tr.field_name\">{{ tr.field_name }}</vs-td>\r\n              \r\n               \r\n                <vs-td > \r\n                  <feather-icon\r\n                    icon=\"EditIcon\"\r\n                    class=\"cursor-pointer w-6 h-6 text-warning\"\r\n                    size=\"small\"\r\n                    @click=\"edit(tr)\"\r\n                  ></feather-icon>\r\n                </vs-td>\r\n                <vs-td>\r\n                  <feather-icon\r\n                    icon=\"Trash2Icon\"\r\n                    class=\"cursor-pointer w-6 h-6 text-danger\"\r\n                    size=\"small\"\r\n                    @click=\"delete_device_type(tr.device_type_id)\"\r\n                  ></feather-icon>\r\n                </vs-td>\r\n              </vs-tr>\r\n            </template>\r\n          </vs-table>\r\n          <vs-popup class=\"holamundo\" :title=\"title\" :active.sync=\"configPopUp\">\r\n              \r\n              <div class=\"w-full\">\r\n                <vs-input\r\n                  :warning=\"errors.has('field_name')\"\r\n                  :warning-text=\"$t('field name is required')\"\r\n                  :label-placeholder=\"$t('field name')\"\r\n                  val-icon-warning=\"warning\"\r\n                  v-validate=\"'required'\"\r\n                  name=\"field_name\"\r\n                  v-model=\"editObj.field_name\"\r\n                  class=\"w-full mt-10\"\r\n                  icon-pack=\"feather\"\r\n                  icon=\"icon-user\"\r\n                  icon-no-border\r\n                />\r\n              </div>\r\n              \r\n              <div class=\"vx-col md:w-full mt-5\">\r\n                <vs-button\r\n                  class=\"mr-5\"\r\n                  color=\"primary\"\r\n                  @click.stop=\"save\"\r\n                >{{ $t(\"save\") }}</vs-button>\r\n                <vs-button\r\n                  color=\"danger\"\r\n                  type=\"border\"\r\n                  @click.stop=\"configPopUp = false\"\r\n                >{{ $t(\"cancel\") }}</vs-button>\r\n              \r\n              </div>\r\n            </vs-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    field_editing:{\r\n      type:Object,\r\n      required:true\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      configPopUp:false,\r\n      title:'Add Field',\r\n      device_type_configs:[],\r\n      editObj:{},\r\n    }\r\n  },\r\n  created(){\r\n    this.initVal();\r\n    this.getData();\r\n  },\r\n  methods:{\r\n    initVal(){\r\n      this.editObj={\r\n        config_id:\"\",\r\n        field_name:\"\",\r\n        device_type_id:this.field_editing.device_type_id\r\n      }\r\n    },\r\n    addDeviceConfig(){\r\n      this.configPopUp=true;\r\n    },\r\n    do_save(){\r\n       console.log('saved clicked')\r\n\r\n    },\r\n    async save(){\r\n      var result=await this.$validator.validateAll();\r\n      console.log(result);\r\n       if(result){\r\n               console.log(111);\r\n                var url=\"\";\r\n                if(this.editObj.config_id==\"\"){\r\n                    var result=await this.$service.postData('device-type-config/addDeviceTypeConfig',this.editObj);\r\n                }else{\r\n                    var result=await this.$service.postData('device-type-config/updateDeviceTypeConfig',this.editObj);\r\n                }\r\n                this.configPopUp=false;\r\n                \r\n                if(result.code==1){\r\n                        \r\n                        this.$swal(this.$t('data was saved!!'),'','success');\r\n                    }  else{\r\n                        this.$vs.notify({\r\n                            title:'Danger',\r\n                            text:result.message,\r\n                            color:'success'\r\n                        })\r\n                    }   \r\n                  this.initVal();\r\n\r\n                this.getData();\r\n            }\r\n    },\r\n    async save_field(){\r\n     \r\n      this.$validator.validateAll().then(async result => {\r\n          if(result){\r\n             this.configPopUp=false;\r\n            var url=\"\";\r\n            if(this.editObj.config_id==''){\r\n              url=\"addDeviceTypeConfig\";\r\n            }else{\r\n              url=\"updateDeviceTypeConfig\";\r\n            }\r\n            console.log(this.editObj);\r\n            var response = await this.$service.postData(`device-type-config/${url}`,this.editObj);\r\n            if(response.code==1){\r\n              this.$swal('data was saved','','success').then((result)=>{\r\n                 this.getData();\r\n                 this.initVal();\r\n              });\r\n             \r\n            }else{\r\n              this.$swal(response.message,'','error');\r\n            }\r\n          }else{\r\n            console.log('invlid')\r\n          }\r\n      });\r\n    \r\n    },\r\n    edit(tr){\r\n      this.editObj={...tr};\r\n      this.configPopUp=true;\r\n    },\r\n    async getData(){\r\n      try{\r\n        var configFieldResponse=await this.$service.postData(\"device-type-config/getDeviceTypeConfig\",{device_type_id:this.field_editing.device_type_id});\r\n        this.device_type_configs=configFieldResponse.data;\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}