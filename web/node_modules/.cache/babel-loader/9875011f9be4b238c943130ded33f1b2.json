{"remainingRequest":"D:\\DTC PROJECT\\booking\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\DTC PROJECT\\booking\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DTC PROJECT\\booking\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DTC PROJECT\\booking\\web\\src\\views\\Cost.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DTC PROJECT\\booking\\web\\src\\views\\Cost.vue","mtime":1578885477196},{"path":"D:\\DTC PROJECT\\booking\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DTC PROJECT\\booking\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DTC PROJECT\\booking\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DTC PROJECT\\booking\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _toConsumableArray from \"D:\\\\DTC PROJECT\\\\booking\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/toConsumableArray\";\nimport _objectSpread from \"D:\\\\DTC PROJECT\\\\booking\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\DTC PROJECT\\\\booking\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport VueApexCharts from \"vue-apexcharts\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport service from \"@/service/service\";\nimport flatPickr from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.css\";\nimport { async } from \"q\";\nimport { departmentColors } from \"./Colors\";\nvar colors = [\"#242145\", \"#03a9f4\", \"#b2b63d\", \"#ffeb3b\", \"#795548\", \"#46c93a\", \"#1f74ff\", \"#ff4757\", \"#ffba00\", \"#1e1e1e\", \"#5b3dc3\", \"#17c964\", \"#f2135d\", \"#ff8200\"];\nexport default {\n  components: {\n    VueApexCharts: VueApexCharts,\n    VuePerfectScrollbar: VuePerfectScrollbar,\n    flatPickr: flatPickr\n  },\n  data: function data() {\n    return {\n      department_id: \"\",\n      departmentView: 0,\n      popupActive: false,\n      selected: {},\n      material1: [],\n      materials: [],\n      deparment: {},\n      bookings: [],\n      view: {},\n      show_detail: false,\n      mode: 1,\n      sub_department: {},\n      departmentColors: departmentColors,\n      colors: colors,\n      renderDepartment_chart: false,\n      settings: {\n        // perfectscrollbar settings\n        maxScrollbarLength: 60,\n        wheelSpeed: 0.6\n      },\n      configdateTimePicker: {\n        enableTime: false,\n        enableSeconds: false,\n        noCalendar: false\n      },\n      editObj: {\n        start_date: \"\",\n        end_date: \"\"\n      },\n      DepartmentPie: {\n        analyticsData: [],\n        series: [],\n        chartOptions: {\n          labels: [],\n          dataLabels: {\n            enabled: false\n          },\n          legend: {\n            show: false\n          },\n          chart: {\n            type: \"pie\",\n            offsetY: 30,\n            dropShadow: {\n              enabled: false,\n              blur: 5,\n              left: 1,\n              top: 1,\n              opacity: 0.2\n            },\n            toolbar: {\n              show: false\n            }\n          },\n          stroke: {\n            width: 5\n          },\n          colors: colors\n        }\n      },\n      listDepartments: []\n    };\n  },\n  computed: {\n    invalid: function invalid() {\n      var _this = this;\n\n      var require = function require(type) {\n        return _this.submitted && _this.editObj[type] == \"\";\n      };\n\n      return {\n        start_date: require(\"start_date\"),\n        end_date: require(\"end_date\")\n      };\n    },\n    isInvald: function isInvald() {\n      return this.invalid.start_date || this.invalid.end_date;\n    },\n    isSelected: function isSelected() {\n      return JSON.stringify(this.selected) == \"{}\";\n    }\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.$refs.chatLogPS.$el.scrollTop = 0;\n              this.search();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function mounted() {\n      return _mounted.apply(this, arguments);\n    };\n  }(),\n  methods: {\n    views: function views(tr) {\n      var _this2 = this;\n\n      this.popupActive = true;\n      this.view = tr;\n      service.postData(\"/get_booked_material\", {\n        booking_id: tr.booking_id\n      }).then(function (result) {\n        _this2.material1 = result.data;\n      });\n    },\n    viewSubDepartment: function () {\n      var _viewSubDepartment = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(sub_department) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return service.postData(\"getMaterialOfficerUsing\", _objectSpread({}, this.editObj, {\n                  sub_departmentView: 1,\n                  sub_department_id: sub_department.sub_department_id\n                }));\n\n              case 2:\n                response = _context2.sent;\n                this.departmentView = 0;\n                this.sub_department = sub_department;\n                this.sub_department_id = sub_department.sub_department_id;\n                this.materials = response.data;\n                console.log(sub_department);\n                this.$vs.notify({\n                  title: this.$t(\"Viewing Department\") + \" \" + sub_department[\"sub_department_name_\" + this.$i18n.locale],\n                  text: \"\"\n                });\n                this.mode = 2;\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function viewSubDepartment(_x) {\n        return _viewSubDepartment.apply(this, arguments);\n      };\n    }(),\n    viewDepartment: function () {\n      var _viewDepartment = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(department) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.departmentView = 1;\n                console.log(department);\n                this.department = department;\n                this.departmentView = 1;\n                _context3.next = 6;\n                return service.postData(\"getMaterialOfficerUsing\", _objectSpread({}, this.editObj, {\n                  departmentView: this.departmentView,\n                  department_id: department.department_id\n                }));\n\n              case 6:\n                response = _context3.sent;\n                this.department_id = department.department_id;\n                this.materials = response.data;\n                this.$vs.notify({\n                  title: this.$t(\"Viewing Officer Detail\"),\n                  text: \"\"\n                });\n                this.mode = 2;\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function viewDepartment(_x2) {\n        return _viewDepartment.apply(this, arguments);\n      };\n    }(),\n    handleSelected: function () {\n      var _handleSelected = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.show_detail = true;\n                console.log(this.selected);\n                this.$vs.notify({\n                  title: this.$t(\"Viewing \") + this.selected.material_name,\n                  text: this.$t(\"price \") + this.selected.total_price\n                });\n                _context4.next = 5;\n                return service.postData(\"getBookingOfficerDetail\", _objectSpread({}, this.editObj, {\n                  material_id: this.selected.material_id,\n                  departmentView: this.departmentView,\n                  department_id: this.department_id,\n                  sub_department_id: this.sub_department_id\n                }));\n\n              case 5:\n                response = _context4.sent;\n                this.bookings = response.data;\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function handleSelected() {\n        return _handleSelected.apply(this, arguments);\n      };\n    }(),\n    search: function () {\n      var _search = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var _this3 = this;\n\n        var response;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.renderDepartment_chart = false;\n                _context6.next = 3;\n                return service.postData(\"getSummaryDepartmentCost\", _objectSpread({}, this.editObj));\n\n              case 3:\n                response = _context6.sent;\n                this.DepartmentPie.chartOptions.labels = response.data.map(function (item) {\n                  return item[\"department_name_\" + _this3.$i18n.locale];\n                });\n                this.DepartmentPie.series = response.data.map(function (item) {\n                  return parseFloat(item.total_price);\n                });\n                this.DepartmentPie.analyticsData = _toConsumableArray(response.data);\n                this.listDepartments = [];\n                this.DepartmentPie.analyticsData.forEach(\n                /*#__PURE__*/\n                function () {\n                  var _ref = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee5(item, index) {\n                    var test, response1;\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            test = {\n                              SubDepartmentPIE: {\n                                analyticsData: [],\n                                series: [],\n                                chartOptions: {\n                                  labels: [],\n                                  dataLabels: {\n                                    enabled: false\n                                  },\n                                  legend: {\n                                    show: false\n                                  },\n                                  chart: {\n                                    type: \"pie\",\n                                    offsetY: 30,\n                                    dropShadow: {\n                                      enabled: false,\n                                      blur: 5,\n                                      left: 1,\n                                      top: 1,\n                                      opacity: 0.2\n                                    },\n                                    toolbar: {\n                                      show: false\n                                    }\n                                  },\n                                  stroke: {\n                                    width: 5\n                                  },\n                                  colors: departmentColors[index]\n                                }\n                              }\n                            };\n                            _context5.next = 3;\n                            return service.postData(\"getSummarySubDepartmentCost\", _objectSpread({\n                              department_id: item.department_id\n                            }, _this3.editObj));\n\n                          case 3:\n                            response1 = _context5.sent;\n                            console.log(response1);\n                            test.SubDepartmentPIE.chartOptions.labels = response1.data.map(function (item1) {\n                              return item1[\"sub_department_name_\" + _this3.$i18n.locale];\n                            });\n                            test.SubDepartmentPIE.series = response1.data.map(function (item1) {\n                              return parseFloat(item1.total_price);\n                            });\n                            test.SubDepartmentPIE.analyticsData = response1.data; // console.log();\n\n                            _this3.listDepartments.push(_objectSpread({}, item, test));\n\n                          case 9:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5, this);\n                  }));\n\n                  return function (_x3, _x4) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n                this.renderDepartment_chart = true;\n\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      return function search() {\n        return _search.apply(this, arguments);\n      };\n    }(),\n    viewOfficer: function () {\n      var _viewOfficer = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                this.departmentView = 0;\n                _context7.next = 3;\n                return service.postData(\"getMaterialOfficerUsing\", _objectSpread({}, this.editObj, {\n                  departmentView: this.departmentView,\n                  department_id: \"\"\n                }));\n\n              case 3:\n                response = _context7.sent;\n                this.materials = response.data;\n                this.$vs.notify({\n                  title: this.$t(\"Viewing Officer Detail\"),\n                  text: \"\"\n                });\n                this.mode = 2;\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      return function viewOfficer() {\n        return _viewOfficer.apply(this, arguments);\n      };\n    }(),\n    notifyClose: function notifyClose() {\n      this.$vs.notify({\n        title: this.$t(\"Backing to Cost Data\"),\n        text: \"\"\n      });\n    }\n  }\n};",{"version":3,"sources":["Cost.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"w-full\">\r\n    <div class=\"mb-base w-full\" v-if=\"mode==1\">\r\n      <vx-card>\r\n        <h6>{{$t(\"Search the code\")}}</h6>\r\n\r\n        <div class=\"mt-6 vx-row mb-6\">\r\n          <div class=\"vx-col lg:w-5/12 md:w-1/2 w-full\">\r\n            <div class=\"vx-row\">\r\n              <div class=\"vx-col lg:w-1/3 w-full mt-5\" style=\"padding-top:3px\">\r\n                <label>{{$t(\"start_datetime\")}}</label>\r\n              </div>\r\n              <div class=\"vx-col lg:w-2/3 w-full lg:mt-5 mt-0 sm:pr-10 lg:pr-0 md:pr-20\">\r\n                <flat-pickr\r\n                  :config=\"configdateTimePicker\"\r\n                  class=\"w-full flatpickr-input\"\r\n                  v-model=\"editObj.start_date\"\r\n                  :class=\"{' danger':invalid.start_date}\"\r\n                  placeholder\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"vx-col lg:w-5/12 md:w-1/2 w-full\">\r\n            <div class=\"vx-row\">\r\n              <div class=\"vx-col lg:w-1/3 w-full mt-5\" style=\"padding-top:3px\">\r\n                <label>{{$t(\"end_datetime\")}}</label>\r\n              </div>\r\n              <div class=\"vx-col lg:w-2/3 w-full lg:mt-5 mt-0 sm:pr-10 lg:pr-0 md:pr-20\">\r\n                <flat-pickr\r\n                  :config=\"configdateTimePicker\"\r\n                  class=\"w-full flatpickr-input\"\r\n                  v-model=\"editObj.end_date\"\r\n                  :class=\"{'w-full flatpickr-input danger':invalid.end_date}\"\r\n                  placeholder\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"vx-col sm:pr-10 md:pr-20 lg:w-1/6 md:w-1/2 w-full mt-5\">\r\n            <div class=\"vx-row pr-4 pl-4\">\r\n              <vs-button\r\n                ref=\"loadableButton\"\r\n                id=\"button-with-loading\"\r\n                class=\"vs-con-loading__container vx-col w-full\"\r\n                vslor=\"primary\"\r\n                @click=\"search()\"\r\n              >{{$t('search')}}</vs-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </vx-card>\r\n      <div class=\"vx-row\">\r\n        <div class=\"vx-col w-full lg:w-1/2 lg:mt-5 mt-base mt-5 overflow-hidden\">\r\n          <vx-card>\r\n            <div slot=\"no-body\">\r\n              <div class=\"vx-card__header\">\r\n                <div class=\"vx-card__title\">\r\n                  <h4 class>{{$t('Officer')}}</h4>\r\n                </div>\r\n                <div class=\"vx-card__actions\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"vs-con-dropdown parent-dropdown cursor-pointer\"\r\n                    @click=\"viewOfficer()\"\r\n                  >{{$t('view detail')}}</button>\r\n                </div>\r\n              </div>\r\n              <!-- CHART -->\r\n              <vue-apex-charts\r\n                type=\"pie\"\r\n                height=\"345\"\r\n                class=\"mt-2\"\r\n                :options=\"DepartmentPie.chartOptions\"\r\n                :series=\"DepartmentPie.series\"\r\n                v-if=\"renderDepartment_chart\"\r\n              />\r\n\r\n              <!-- CHART DATA -->\r\n              <div style=\"height:200px;\">\r\n                <VuePerfectScrollbar\r\n                  ref=\"chatLogPS\"\r\n                  class=\"scroll-area pt-6 px-6\"\r\n                  :settings=\"settings\"\r\n                >\r\n                  <ul class=\"mb-1\" ref=\"chatLog\">\r\n                    <li\r\n                      v-for=\"(department,index) in DepartmentPie.analyticsData\"\r\n                      :key=\"index\"\r\n                      class=\"flex justify-between py-3 px-6 border d-theme-border-grey-light border-solid border-r-0 border-l-0 border-b-0\"\r\n                    >\r\n                      <span class=\"flex items-center\">\r\n                        <span\r\n                          class=\"inline-block h-3 w-3 rounded-full mr-2\"\r\n                          :style=\"{'background':colors[index]}\"\r\n                        ></span>\r\n                        <span\r\n                          class=\"font-semibold\"\r\n                        >{{$t('Officer of') +' '+department['department_name_'+$i18n.locale] }}</span>\r\n                      </span>\r\n                      <span>{{ department.total_price }}</span>\r\n                    </li>\r\n                  </ul>\r\n                </VuePerfectScrollbar>\r\n              </div>\r\n            </div>\r\n          </vx-card>\r\n        </div>\r\n\r\n        <div\r\n          class=\"vx-col w-full lg:w-1/2 lg:mt-5 mt-base overflow-hidden\"\r\n          v-for=\"(department,index) in listDepartments\"\r\n          :key=\"index\"\r\n        >\r\n          <vx-card>\r\n            <div slot=\"no-body\">\r\n              <div class=\"vx-card__header\">\r\n                <div class=\"vx-card__title\">\r\n                  <h4 class>{{$t('Officer of') + \" \"+department['department_name_'+$i18n.locale]}}</h4>\r\n                </div>\r\n                <div class=\"vx-card__actions\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"vs-con-dropdown parent-dropdown cursor-pointer\"\r\n                    @click=\"viewDepartment(department)\"\r\n                  >{{$t('view detail')}}</button>\r\n                </div>\r\n              </div>\r\n              <!-- CHART -->\r\n              <vue-apex-charts\r\n                type=\"pie\"\r\n                height=\"345\"\r\n                class=\"mt-2\"\r\n                :options=\"department.SubDepartmentPIE.chartOptions\"\r\n                :series=\"department.SubDepartmentPIE.series\"\r\n                v-if=\"renderDepartment_chart\"\r\n              />\r\n              <!-- <pre>{{department | json}}</pre> -->\r\n              <div style=\"height:200px;\">\r\n                <VuePerfectScrollbar\r\n                  ref=\"chatLogPS\"\r\n                  class=\"scroll-area pt-6 px-6\"\r\n                  :settings=\"settings\"\r\n                >\r\n                  <ul class=\"mb-1\" ref=\"chatLog\">\r\n                    <li\r\n                      v-for=\"(sub_department,index1) in department.SubDepartmentPIE.analyticsData\"\r\n                      :key=\"index1\"\r\n                      class=\"flex justify-between py-3 px-6 border d-theme-border-grey-light border-solid border-r-0 border-l-0 border-b-0 sub_department_list\"\r\n                      @click=\"viewSubDepartment(sub_department)\"\r\n                    >\r\n                      <span class=\"flex items-center\">\r\n                        <span\r\n                          class=\"inline-block h-3 w-3 rounded-full mr-2\"\r\n                          :style=\"{'background':departmentColors[index%departmentColors.length][index1]}\"\r\n                        ></span>\r\n                        <span\r\n                          class=\"font-semibold\"\r\n                        >{{ $t('Department of')+' '+sub_department['sub_department_name_'+$i18n.locale]}}</span>\r\n                      </span>\r\n                      <span>{{ sub_department.total_price }}</span>\r\n                    </li>\r\n                  </ul>\r\n                </VuePerfectScrollbar>\r\n              </div>\r\n            </div>\r\n          </vx-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"mb-base w-full\" v-if=\"mode==2\">\r\n      <div class=\"vx-row mb-5\">\r\n        <vs-button\r\n          class=\"ml-5\"\r\n          vsclor=\"primary\"\r\n          @click=\"mode=1;selected={};materials=[];show_detail=false;notifyClose();\"\r\n        >{{$t('back')}}</vs-button>\r\n        <h5 class=\"mt-3 ml-5\">{{$t('Material Detail')}}</h5>\r\n      </div>\r\n      <vx-card>\r\n        <!-- <pre>{{x}}</pre> -->\r\n        <h3\r\n          v-if=\"sub_department_id==1\"\r\n        >{{ $t('Department of')+' '+sub_department['sub_department_name_'+$i18n.locale]}}</h3>\r\n        <h3\r\n          v-if=\"sub_department_id==0\"\r\n        >{{$t('Officer of') + \" \"+department['department_name_'+$i18n.locale]}}</h3>\r\n        <vs-table\r\n          pagination\r\n          max-items=\"10\"\r\n          v-model=\"selected\"\r\n          @selected=\"handleSelected\"\r\n          search\r\n          :data=\"materials\"\r\n        >\r\n          <template slot=\"thead\">\r\n            <vs-th sort-key=\"material_id\">{{$t('material_id')}}</vs-th>\r\n            <vs-th sort-key=\"material_name\">{{$t('material_name')}}</vs-th>\r\n            <vs-th sort-key=\"material_price\">{{$t('material_price')}}</vs-th>\r\n\r\n            <vs-th sort-key=\"material_number\">{{$t(\"material_number\")}}</vs-th>\r\n            <vs-th sort-key=\"total_price\">{{$t(\"total_price\")}}</vs-th>\r\n          </template>\r\n\r\n          <template slot-scope=\"{data}\">\r\n            <vs-tr :data=\"tr\" :key=\"index\" v-for=\"(tr, index) in data\">\r\n              <vs-td :data=\"tr.material_id\">{{tr.material_id}}</vs-td>\r\n\r\n              <vs-td :data=\"tr.material_name\">{{ tr.material_name}}</vs-td>\r\n              <vs-td :data=\"tr.material_price\">{{tr.material_price}}</vs-td>\r\n              <vs-td :data=\"tr.material_number\">{{tr.material_number}}</vs-td>\r\n              <vs-td :data=\"tr.total_price\">{{tr.total_price}}</vs-td>\r\n            </vs-tr>\r\n          </template>\r\n        </vs-table>\r\n      </vx-card>\r\n      <vx-card class=\"mt-5\" v-if=\"show_detail\">\r\n        <!-- <pre>{{x}}</pre> -->\r\n        <h4 class=\"ml-5\">{{$t('Booking Detail')}}</h4>\r\n        <vs-table stripe pagination max-items=\"10\" search :data=\"bookings\">\r\n          <template slot=\"thead\">\r\n            <vs-th sort-key=\"booking_id\">{{$t('booking_id')}}</vs-th>\r\n\r\n            <vs-th sort-key=\"first_name+last_name\">{{$t(\"first_surname\")}}</vs-th>\r\n            <vs-th sort-key=\"room_name\">{{$t('room_name')}}</vs-th>\r\n            <vs-th sort-key=\"booking_description\">{{$t('booking_description')}}</vs-th>\r\n            <vs-th sort-key=\"start_date\">{{$t('start_date')}}</vs-th>\r\n            <vs-th sort-key=\"end_date\">{{$t('end_date')}}</vs-th>\r\n            <vs-th sort-key=\"status_name\">{{$t('status_name')}}</vs-th>\r\n            <vs-th>{{$t('view')}}</vs-th>\r\n          </template>\r\n\r\n          <template slot-scope=\"{data}\">\r\n            <vs-tr :data=\"tr\" :key=\"index\" v-for=\"(tr, index) in data\">\r\n              <vs-td :data=\"tr.booking_id\">{{ tr.booking_id}}</vs-td>\r\n              <vs-td\r\n                :data=\"tr.first_name+tr.last_name\"\r\n                width=\"200px\"\r\n              >{{tr.first_name+' '+tr.last_name}}</vs-td>\r\n\r\n              <vs-td :data=\"tr.room_name\">{{ tr.room_name}}</vs-td>\r\n              <vs-td :data=\"tr.booking_description\">{{ tr.booking_description}}</vs-td>\r\n              <vs-td :data=\"tr.start_date\">{{ tr.start_date | formatDate}}</vs-td>\r\n              <vs-td :data=\"tr.end_date\">{{ tr.end_date | formatDate}}</vs-td>\r\n\r\n              <vs-td :data=\"tr.status_name\" :class=\"'A'+tr.status_id\">{{ $t(tr.status_name)}}</vs-td>\r\n              <vs-td>\r\n                <feather-icon\r\n                  icon=\"MaximizeIcon\"\r\n                  class=\"cursor-pointer w-6 h-6 text-primary\"\r\n                  size=\"small\"\r\n                  @click=\"views(tr)\"\r\n                ></feather-icon>\r\n              </vs-td>\r\n            </vs-tr>\r\n          </template>\r\n        </vs-table>\r\n        <vs-popup class=\"holamundo\" :title=\"$t('view')\" :active.sync=\"popupActive\">\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('Officer')}}:</div>\r\n            <div class=\"vx-col md:w-3/4 w-1/2 pl-5 value\">{{view['department_name_'+$i18n.locale]}}</div>\r\n          </div>\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('Department')}}:</div>\r\n            <div\r\n              class=\"vx-col md:w-3/4 w-1/2 pl-5 value\"\r\n            >{{view['sub_department_name_'+$i18n.locale]}}</div>\r\n          </div>\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('booking_description')}}:</div>\r\n            <div class=\"vx-col md:w-3/4 w-1/2 pl-5 value\">{{view.booking_description}}</div>\r\n          </div>\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('booking_id')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.booking_id}}</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('first_surname')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.first_name+' '+view.last_name}}</div>\r\n          </div>\r\n\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('room_name')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.room_name}}</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('importance')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{$t(view.important)}}</div>\r\n          </div>\r\n\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('Remark')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.remark}}</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('Tel')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.tel}}</div>\r\n          </div>\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('Member')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.member}}</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('booking_date')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.booking_date | onlyDate}}</div>\r\n          </div>\r\n          <div class=\"vx-row mt-5\">\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('date')}}:</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5 value\">{{view.start_date | onlyDate}}</div>\r\n            <div class=\"vx-col md:w-1/4 w-1/2 pl-5\">{{$t('time')}}:</div>\r\n            <div\r\n              class=\"vx-col md:w-1/4 w-1/2 pl-5 value\"\r\n            >{{view.start_date | onlyTime}}-{{view.end_date | onlyTime}}</div>\r\n          </div>\r\n          <v-template v-if=\"materials.length>0\">\r\n            <div class=\"vx-row mt-5 ml-5\">\r\n              <strong>{{$t('Material Detail')}}</strong>\r\n            </div>\r\n            <vs-table stripe pagination max-items=\"10\" search :data=\"material1\">\r\n              <template slot=\"thead\">\r\n                <vs-th sort-key=\"material_id\">{{$t('material_id')}}</vs-th>\r\n\r\n                <vs-th sort-key=\"material_name\">{{$t(\"material_name\")}}</vs-th>\r\n                <vs-th sort-key=\"material_price\">{{$t('material_price')}}</vs-th>\r\n                <vs-th sort-key=\"number\">{{$t('material_number')}}</vs-th>\r\n                <vs-th sort-key=\"total_price\">{{$t('total_price')}}</vs-th>\r\n              </template>\r\n\r\n              <template slot-scope=\"{data}\">\r\n                <vs-tr :data=\"tr\" :key=\"index\" v-for=\"(tr, index) in data\">\r\n                  <vs-td :data=\"tr.material_id\">{{ tr.material_id}}</vs-td>\r\n                  <vs-td :data=\"tr.material_name\" width=\"200px\">{{tr.material_name}}</vs-td>\r\n\r\n                  <vs-td :data=\"tr.material_price\">{{ tr.material_price}}</vs-td>\r\n                  <vs-td :data=\"tr.number\">{{ tr.number}}</vs-td>\r\n                  <vs-td :data=\"tr.total_price\">{{ tr.total_price}}</vs-td>\r\n                </vs-tr>\r\n              </template>\r\n            </vs-table>\r\n          </v-template>\r\n        </vs-popup>\r\n      </vx-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueApexCharts from \"vue-apexcharts\";\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport service from \"@/service/service\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport { async } from \"q\";\r\nimport { departmentColors } from \"./Colors\";\r\nconst colors = [\r\n  \"#242145\",\r\n  \"#03a9f4\",\r\n  \"#b2b63d\",\r\n  \"#ffeb3b\",\r\n  \"#795548\",\r\n  \"#46c93a\",\r\n  \"#1f74ff\",\r\n  \"#ff4757\",\r\n  \"#ffba00\",\r\n  \"#1e1e1e\",\r\n  \"#5b3dc3\",\r\n  \"#17c964\",\r\n  \"#f2135d\",\r\n  \"#ff8200\"\r\n];\r\n\r\nexport default {\r\n  components: {\r\n    VueApexCharts,\r\n    VuePerfectScrollbar,\r\n    flatPickr\r\n  },\r\n  data() {\r\n    return {\r\n      department_id: \"\",\r\n      departmentView: 0,\r\n      popupActive: false,\r\n      selected: {},\r\n      material1: [],\r\n      materials: [],\r\n      deparment: {},\r\n      bookings: [],\r\n      view: {},\r\n      show_detail: false,\r\n      mode: 1,\r\n      sub_department: {},\r\n      departmentColors: departmentColors,\r\n      colors: colors,\r\n      renderDepartment_chart: false,\r\n      settings: {\r\n        // perfectscrollbar settings\r\n        maxScrollbarLength: 60,\r\n        wheelSpeed: 0.6\r\n      },\r\n      configdateTimePicker: {\r\n        enableTime: false,\r\n        enableSeconds: false,\r\n        noCalendar: false\r\n      },\r\n      editObj: {\r\n        start_date: \"\",\r\n        end_date: \"\"\r\n      },\r\n      DepartmentPie: {\r\n        analyticsData: [],\r\n        series: [],\r\n        chartOptions: {\r\n          labels: [],\r\n          dataLabels: {\r\n            enabled: false\r\n          },\r\n          legend: { show: false },\r\n          chart: {\r\n            type: \"pie\",\r\n            offsetY: 30,\r\n            dropShadow: {\r\n              enabled: false,\r\n              blur: 5,\r\n              left: 1,\r\n              top: 1,\r\n              opacity: 0.2\r\n            },\r\n            toolbar: {\r\n              show: false\r\n            }\r\n          },\r\n          stroke: {\r\n            width: 5\r\n          },\r\n          colors: colors\r\n        }\r\n      },\r\n      listDepartments: []\r\n    };\r\n  },\r\n  computed: {\r\n    invalid() {\r\n      var require = type => this.submitted && this.editObj[type] == \"\";\r\n      return {\r\n        start_date: require(\"start_date\"),\r\n        end_date: require(\"end_date\")\r\n      };\r\n    },\r\n    isInvald() {\r\n      return this.invalid.start_date || this.invalid.end_date;\r\n    },\r\n    isSelected() {\r\n      return JSON.stringify(this.selected) == \"{}\";\r\n    }\r\n  },\r\n\r\n  async mounted() {\r\n    this.$refs.chatLogPS.$el.scrollTop = 0;\r\n    this.search();\r\n  },\r\n  methods: {\r\n    views(tr) {\r\n      this.popupActive = true;\r\n      this.view = tr;\r\n      service\r\n        .postData(\"/get_booked_material\", { booking_id: tr.booking_id })\r\n        .then(result => {\r\n          this.material1 = result.data;\r\n        });\r\n    },\r\n    async viewSubDepartment(sub_department) {\r\n      const response = await service.postData(\"getMaterialOfficerUsing\", {\r\n        ...this.editObj,\r\n        sub_departmentView: 1,\r\n        sub_department_id: sub_department.sub_department_id\r\n      });\r\n      this.departmentView = 0;\r\n      this.sub_department = sub_department;\r\n      this.sub_department_id = sub_department.sub_department_id;\r\n      this.materials = response.data;\r\n      console.log(sub_department);\r\n      this.$vs.notify({\r\n        title:\r\n          this.$t(\"Viewing Department\") +\r\n          \" \" +\r\n          sub_department[\"sub_department_name_\" + this.$i18n.locale],\r\n        text: \"\"\r\n      });\r\n\r\n      this.mode = 2;\r\n    },\r\n    async viewDepartment(department) {\r\n      this.departmentView = 1;\r\n      console.log(department);\r\n      this.department = department;\r\n      this.departmentView = 1;\r\n      const response = await service.postData(\"getMaterialOfficerUsing\", {\r\n        ...this.editObj,\r\n        departmentView: this.departmentView,\r\n        department_id: department.department_id\r\n      });\r\n      this.department_id = department.department_id;\r\n      this.materials = response.data;\r\n      this.$vs.notify({\r\n        title: this.$t(\"Viewing Officer Detail\"),\r\n        text: \"\"\r\n      });\r\n\r\n      this.mode = 2;\r\n    },\r\n    async handleSelected() {\r\n      this.show_detail = true;\r\n      console.log(this.selected);\r\n      this.$vs.notify({\r\n        title: this.$t(\"Viewing \") + this.selected.material_name,\r\n        text: this.$t(\"price \") + this.selected.total_price\r\n      });\r\n      var response = await service.postData(\"getBookingOfficerDetail\", {\r\n        ...this.editObj,\r\n        material_id: this.selected.material_id,\r\n        departmentView: this.departmentView,\r\n        department_id: this.department_id,\r\n        sub_department_id: this.sub_department_id\r\n      });\r\n      this.bookings = response.data;\r\n    },\r\n    async search() {\r\n      this.renderDepartment_chart = false;\r\n\r\n      var response = await service.postData(\"getSummaryDepartmentCost\", {\r\n        ...this.editObj\r\n      });\r\n      this.DepartmentPie.chartOptions.labels = response.data.map(item => {\r\n        return item[\"department_name_\" + this.$i18n.locale];\r\n      });\r\n      this.DepartmentPie.series = response.data.map(item => {\r\n        return parseFloat(item.total_price);\r\n      });\r\n      this.DepartmentPie.analyticsData = [...response.data];\r\n      this.listDepartments = [];\r\n      this.DepartmentPie.analyticsData.forEach(async (item, index) => {\r\n        var test = {\r\n          SubDepartmentPIE: {\r\n            analyticsData: [],\r\n            series: [],\r\n            chartOptions: {\r\n              labels: [],\r\n              dataLabels: {\r\n                enabled: false\r\n              },\r\n              legend: { show: false },\r\n              chart: {\r\n                type: \"pie\",\r\n                offsetY: 30,\r\n                dropShadow: {\r\n                  enabled: false,\r\n                  blur: 5,\r\n                  left: 1,\r\n                  top: 1,\r\n                  opacity: 0.2\r\n                },\r\n                toolbar: {\r\n                  show: false\r\n                }\r\n              },\r\n              stroke: {\r\n                width: 5\r\n              },\r\n              colors: departmentColors[index]\r\n            }\r\n          }\r\n        };\r\n\r\n        var response1 = await service.postData(\"getSummarySubDepartmentCost\", {\r\n          department_id: item.department_id,\r\n          ...this.editObj\r\n        });\r\n        console.log(response1);\r\n        test.SubDepartmentPIE.chartOptions.labels = response1.data.map(\r\n          item1 => {\r\n            return item1[\"sub_department_name_\" + this.$i18n.locale];\r\n          }\r\n        );\r\n        test.SubDepartmentPIE.series = response1.data.map(item1 => {\r\n          return parseFloat(item1.total_price);\r\n        });\r\n        test.SubDepartmentPIE.analyticsData = response1.data;\r\n        // console.log();\r\n        this.listDepartments.push({ ...item, ...test });\r\n      });\r\n      this.renderDepartment_chart = true;\r\n    },\r\n\r\n    async viewOfficer() {\r\n      this.departmentView = 0;\r\n      const response = await service.postData(\"getMaterialOfficerUsing\", {\r\n        ...this.editObj,\r\n        departmentView: this.departmentView,\r\n        department_id: \"\"\r\n      });\r\n      this.materials = response.data;\r\n      this.$vs.notify({\r\n        title: this.$t(\"Viewing Officer Detail\"),\r\n        text: \"\"\r\n      });\r\n\r\n      this.mode = 2;\r\n    },\r\n    notifyClose() {\r\n      this.$vs.notify({\r\n        title: this.$t(\"Backing to Cost Data\"),\r\n        text: \"\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.sub_department_list {\r\n  cursor: pointer;\r\n}\r\n.sub_department_list:hover {\r\n  background: #03a9f4;\r\n  color: white;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}