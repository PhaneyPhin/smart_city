{"remainingRequest":"C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\src\\views\\pages\\device-type\\DeviceTypeConfigField.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\src\\views\\pages\\device-type\\DeviceTypeConfigField.vue","mtime":1580378734533},{"path":"C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1579332194156},{"path":"C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1579332188909},{"path":"C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1579332194156},{"path":"C:\\Users\\Sovannarith Phan\\Utility_Website\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1579332241739}],"contextDependencies":[],"result":["import _objectSpread from \"C:\\\\Users\\\\Sovannarith Phan\\\\Utility_Website\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Sovannarith Phan\\\\Utility_Website\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    field_editing: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      configPopUp: false,\n      title: 'Add Field',\n      device_type_configs: [],\n      editObj: {}\n    };\n  },\n  created: function created() {\n    this.initVal();\n    this.getData();\n  },\n  methods: {\n    initVal: function initVal() {\n      this.editObj = {\n        config_id: \"\",\n        field_name: \"\",\n        device_type_id: this.field_editing.device_type_id\n      };\n    },\n    addDeviceConfig: function addDeviceConfig() {\n      this.configPopUp = true;\n    },\n    do_save: function do_save() {\n      console.log('saved clicked');\n    },\n    save: function () {\n      var _save = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var result, url;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$validator.validateAll();\n\n              case 2:\n                result = _context.sent;\n                console.log(result);\n\n                if (!result) {\n                  _context.next = 20;\n                  break;\n                }\n\n                console.log(111);\n                url = \"\";\n\n                if (!(this.editObj.config_id == \"\")) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.next = 10;\n                return this.$service.postData('device-type-config/addDeviceTypeConfig', this.editObj);\n\n              case 10:\n                result = _context.sent;\n                _context.next = 16;\n                break;\n\n              case 13:\n                _context.next = 15;\n                return this.$service.postData('device-type-config/updateDeviceTypeConfig', this.editObj);\n\n              case 15:\n                result = _context.sent;\n\n              case 16:\n                this.configPopUp = false;\n\n                if (result.code == 1) {\n                  this.$swal(this.$t('data was saved!!'), '', 'success');\n                } else {\n                  this.$vs.notify({\n                    title: 'Danger',\n                    text: result.message,\n                    color: 'success'\n                  });\n                }\n\n                this.initVal();\n                this.getData();\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function save() {\n        return _save.apply(this, arguments);\n      };\n    }(),\n    save_field: function () {\n      var _save_field = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.$validator.validateAll().then(\n                /*#__PURE__*/\n                function () {\n                  var _ref = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee2(result) {\n                    var url, response;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            if (!result) {\n                              _context2.next = 11;\n                              break;\n                            }\n\n                            _this.configPopUp = false;\n                            url = \"\";\n\n                            if (_this.editObj.config_id == '') {\n                              url = \"addDeviceTypeConfig\";\n                            } else {\n                              url = \"updateDeviceTypeConfig\";\n                            }\n\n                            console.log(_this.editObj);\n                            _context2.next = 7;\n                            return _this.$service.postData(\"device-type-config/\".concat(url), _this.editObj);\n\n                          case 7:\n                            response = _context2.sent;\n\n                            if (response.code == 1) {\n                              _this.$swal('data was saved', '', 'success').then(function (result) {\n                                _this.getData();\n\n                                _this.initVal();\n                              });\n                            } else {\n                              _this.$swal(response.message, '', 'error');\n                            }\n\n                            _context2.next = 12;\n                            break;\n\n                          case 11:\n                            console.log('invlid');\n\n                          case 12:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, this);\n                  }));\n\n                  return function (_x) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function save_field() {\n        return _save_field.apply(this, arguments);\n      };\n    }(),\n    edit: function edit(tr) {\n      this.editObj = _objectSpread({}, tr);\n      this.configPopUp = true;\n    },\n    getData: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var configFieldResponse;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.$service.postData(\"device-type-config/getDeviceTypeConfig\", {\n                  device_type_id: this.field_editing.device_type_id\n                });\n\n              case 3:\n                configFieldResponse = _context4.sent;\n                this.device_type_configs = configFieldResponse.data;\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.log(_context4.t0);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 7]]);\n      }));\n\n      return function getData() {\n        return _getData.apply(this, arguments);\n      };\n    }()\n  },\n  watch: {}\n};",{"version":3,"sources":["DeviceTypeConfigField.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"w-full\">\r\n        <vs-button color=\"primary\" @click=\"addDeviceConfig()\">Add Device Type Config</vs-button>\r\n          <vs-table max-items=\"10\" search pagination :data=\"device_type_configs\">\r\n            <template slot=\"thead\">\r\n              <vs-th colspan=\"2\">field ID</vs-th>\r\n              <vs-th>field name</vs-th>\r\n              <vs-th>edit</vs-th>\r\n              <vs-th>delete</vs-th>\r\n            </template>\r\n\r\n            <template slot-scope=\"{data}\">\r\n              <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                <vs-td colspan=\"2\" :data=\"tr.config_id\">{{ tr.config_id }}</vs-td>\r\n\r\n                <vs-td :data=\"tr.field_name\">{{ tr.field_name }}</vs-td>\r\n              \r\n               \r\n                <vs-td > \r\n                  <feather-icon\r\n                    icon=\"EditIcon\"\r\n                    class=\"cursor-pointer w-6 h-6 text-warning\"\r\n                    size=\"small\"\r\n                    @click=\"edit(tr)\"\r\n                  ></feather-icon>\r\n                </vs-td>\r\n                <vs-td>\r\n                  <feather-icon\r\n                    icon=\"Trash2Icon\"\r\n                    class=\"cursor-pointer w-6 h-6 text-danger\"\r\n                    size=\"small\"\r\n                    @click=\"delete_device_type(tr.device_type_id)\"\r\n                  ></feather-icon>\r\n                </vs-td>\r\n              </vs-tr>\r\n            </template>\r\n          </vs-table>\r\n          <vs-popup class=\"holamundo\" :title=\"title\" :active.sync=\"configPopUp\">\r\n              \r\n              <div class=\"w-full\">\r\n                <vs-input\r\n                  :warning=\"errors.has('field_name')\"\r\n                  :warning-text=\"$t('field name is required')\"\r\n                  :label-placeholder=\"$t('field name')\"\r\n                  val-icon-warning=\"warning\"\r\n                  v-validate=\"'required'\"\r\n                  name=\"field_name\"\r\n                  v-model=\"editObj.field_name\"\r\n                  class=\"w-full mt-10\"\r\n                  icon-pack=\"feather\"\r\n                  icon=\"icon-user\"\r\n                  icon-no-border\r\n                />\r\n              </div>\r\n              \r\n              <div class=\"vx-col md:w-full mt-5\">\r\n                <vs-button\r\n                  class=\"mr-5\"\r\n                  color=\"primary\"\r\n                  @click.stop=\"save\"\r\n                >{{ $t(\"save\") }}</vs-button>\r\n                <vs-button\r\n                  color=\"danger\"\r\n                  type=\"border\"\r\n                  @click.stop=\"configPopUp = false\"\r\n                >{{ $t(\"cancel\") }}</vs-button>\r\n              \r\n              </div>\r\n            </vs-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    field_editing:{\r\n      type:Object,\r\n      required:true\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      configPopUp:false,\r\n      title:'Add Field',\r\n      device_type_configs:[],\r\n      editObj:{},\r\n    }\r\n  },\r\n  created(){\r\n    this.initVal();\r\n    this.getData();\r\n  },\r\n  methods:{\r\n    initVal(){\r\n      this.editObj={\r\n        config_id:\"\",\r\n        field_name:\"\",\r\n        device_type_id:this.field_editing.device_type_id\r\n      }\r\n    },\r\n    addDeviceConfig(){\r\n      this.configPopUp=true;\r\n    },\r\n    do_save(){\r\n       console.log('saved clicked')\r\n\r\n    },\r\n    async save(){\r\n      var result=await this.$validator.validateAll();\r\n      console.log(result);\r\n       if(result){\r\n               console.log(111);\r\n                var url=\"\";\r\n                if(this.editObj.config_id==\"\"){\r\n                    var result=await this.$service.postData('device-type-config/addDeviceTypeConfig',this.editObj);\r\n                }else{\r\n                    var result=await this.$service.postData('device-type-config/updateDeviceTypeConfig',this.editObj);\r\n                }\r\n                this.configPopUp=false;\r\n                \r\n                if(result.code==1){\r\n                        \r\n                        this.$swal(this.$t('data was saved!!'),'','success');\r\n                    }  else{\r\n                        this.$vs.notify({\r\n                            title:'Danger',\r\n                            text:result.message,\r\n                            color:'success'\r\n                        })\r\n                    }   \r\n                  this.initVal();\r\n\r\n                this.getData();\r\n            }\r\n    },\r\n    async save_field(){\r\n     \r\n      this.$validator.validateAll().then(async result => {\r\n          if(result){\r\n             this.configPopUp=false;\r\n            var url=\"\";\r\n            if(this.editObj.config_id==''){\r\n              url=\"addDeviceTypeConfig\";\r\n            }else{\r\n              url=\"updateDeviceTypeConfig\";\r\n            }\r\n            console.log(this.editObj);\r\n            var response = await this.$service.postData(`device-type-config/${url}`,this.editObj);\r\n            if(response.code==1){\r\n              this.$swal('data was saved','','success').then((result)=>{\r\n                 this.getData();\r\n                 this.initVal();\r\n              });\r\n             \r\n            }else{\r\n              this.$swal(response.message,'','error');\r\n            }\r\n          }else{\r\n            console.log('invlid')\r\n          }\r\n      });\r\n    \r\n    },\r\n    edit(tr){\r\n      this.editObj={...tr};\r\n      this.configPopUp=true;\r\n    },\r\n    async getData(){\r\n      try{\r\n        var configFieldResponse=await this.$service.postData(\"device-type-config/getDeviceTypeConfig\",{device_type_id:this.field_editing.device_type_id});\r\n        this.device_type_configs=configFieldResponse.data;\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src/views/pages/device-type"}]}