{"remainingRequest":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Sovannarith Phan\\smart_city\\web\\src\\service\\service.js","dependencies":[{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\src\\service\\service.js","mtime":1580270259642},{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1579332194156},{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1579332188909},{"path":"C:\\Users\\Sovannarith Phan\\smart_city\\web\\node_modules\\eslint-loader\\index.js","mtime":1579332204667}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\n// import Api from '@/service/api'\nimport axios from 'axios'; // import { read } from 'fs';\n// import Axios from 'axios';\n\nimport Vue from 'vue'; // import moment from \"moment\";\n// var url;\n\nexport default {\n  prefix_token: \"DTC@software.com.eyhkdjfhdkjf.xyz\",\n  socket_host: window.socket_host,\n  // url:\"http://localhost:3000/api/\",\n  center: [100.61506779999999, 13.7531888],\n  url: window.url,\n  getData: function getData(url) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      axios.create({\n        baseURL: _this.url,\n        withCredentials: false,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'x-access-token': _this.getToken()\n        }\n      }).get(url).then(function (result) {\n        result = result.data;\n\n        if (result.code == true) {\n          resolve(result);\n        } else {\n          reject(result);\n        }\n      }, function (err) {\n        reject(err);\n      });\n    });\n  },\n  setProfilePicture: function setProfilePicture(img) {\n    localStorage.setItem('img', img);\n  },\n  getProfiePicture: function getProfiePicture() {\n    if (localStorage.get('img') != undefined) {\n      return localStorage.get('img');\n    } else {\n      return \"\";\n    }\n  },\n  postData: function postData(url, data) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      axios.create({\n        baseURL: _this2.url,\n        withCredentials: false,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'x-access-token': _this2.getToken()\n        }\n      }).post(url, JSON.stringify(data)).then(function (result) {\n        result = result.data;\n        resolve(result);\n      }, function (err) {\n        reject(err);\n      });\n    });\n  },\n  prefix: \"xsdfjksldfjlsdfkjsldfkj\",\n  tokenText: \"getmytoken\",\n  setToken: function setToken(token) {\n    sessionStorage.setItem(this.tokenText, this.prefix + token);\n  },\n  getToken: function getToken() {\n    var token = sessionStorage.getItem(this.tokenText);\n\n    if (token) {\n      return token.substr(this.prefix.length);\n    } else {\n      return \"\";\n    }\n  },\n  removeToken: function removeToken() {\n    sessionStorage.removeItem(this.tokenText);\n  },\n  getUser: function getUser() {\n    return this.decodeToken(this.getToken());\n  },\n  isLoggedIn: function isLoggedIn() {\n    return this.checkLogin(this.prefix + this.getToken());\n  },\n  checkLogin: function checkLogin(token) {\n    if (this.decodeToken(token.substr(this.prefix.length))) {\n      return true;\n    }\n\n    return false;\n  },\n  decodeToken: function decodeToken(token) {\n    if (token.length < this.prefix_token.length) {\n      return \"\";\n    } else {\n      token = token.substr(this.prefix_token.length);\n    }\n\n    try {\n      var base64Url = token.split('.')[1];\n      var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n      var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      }).join(''));\n      return JSON.parse(jsonPayload);\n    } catch (e) {\n      return \"\";\n    }\n  }\n};",{"version":3,"sources":["C:\\Users\\Sovannarith Phan\\smart_city\\web\\src\\service\\service.js"],"names":["axios","Vue","prefix_token","socket_host","window","center","url","getData","Promise","resolve","reject","create","baseURL","withCredentials","headers","getToken","get","then","result","data","code","err","setProfilePicture","img","localStorage","setItem","getProfiePicture","undefined","postData","post","JSON","stringify","prefix","tokenText","setToken","token","sessionStorage","getItem","substr","length","removeToken","removeItem","getUser","decodeToken","isLoggedIn","checkLogin","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","parse","e"],"mappings":"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","sourcesContent":["// import Api from '@/service/api'\r\nimport axios from 'axios'\r\n// import { read } from 'fs';\r\n// import Axios from 'axios';\r\nimport Vue from 'vue';\r\n// import moment from \"moment\";\r\n// var url;\r\nexport default {\r\n  prefix_token: \"DTC@software.com.eyhkdjfhdkjf.xyz\",\r\n  socket_host: window.socket_host,\r\n  // url:\"http://localhost:3000/api/\",\r\n  center:[ 100.61506779999999, 13.7531888 ],\r\n  url: window.url,\r\n  getData(url) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.create({\r\n        baseURL: this.url,\r\n        withCredentials: false,\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': this.getToken()\r\n        }\r\n      }).get(url).then(result => {\r\n\r\n        result = result.data;\r\n        if (result.code == true) {\r\n          resolve(result);\r\n        } else {\r\n          reject(result);\r\n        }\r\n      }, err => {\r\n        reject(err);\r\n      });\r\n    })\r\n  },\r\n  setProfilePicture(img) {\r\n    localStorage.setItem('img', img);\r\n  },\r\n  getProfiePicture() {\r\n    if (localStorage.get('img') != undefined) {\r\n      return localStorage.get('img');\r\n    } else {\r\n      return \"\";\r\n    }\r\n  },\r\n  postData(url, data) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.create({\r\n        baseURL: this.url,\r\n        withCredentials: false,\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': this.getToken()\r\n        }\r\n      }).post(url, JSON.stringify(data)).then(result => {\r\n        result = result.data;\r\n        resolve(result);\r\n      }, err => {\r\n        reject(err);\r\n      });\r\n    })\r\n  },\r\n  prefix: \"xsdfjksldfjlsdfkjsldfkj\",\r\n  tokenText: \"getmytoken\",\r\n  setToken(token) {\r\n    sessionStorage.setItem(this.tokenText, this.prefix + token);\r\n  },\r\n  getToken() {\r\n    var token = sessionStorage.getItem(this.tokenText);\r\n    if (token) {\r\n      return token.substr(this.prefix.length);\r\n    } else {\r\n      return \"\";\r\n    }\r\n\r\n  },\r\n  removeToken() {\r\n    sessionStorage.removeItem(this.tokenText);\r\n  },\r\n  getUser() {\r\n    return this.decodeToken(this.getToken());\r\n  },\r\n  isLoggedIn() {\r\n\r\n    return (this.checkLogin(this.prefix + this.getToken()))\r\n\r\n\r\n  },\r\n  checkLogin(token) {\r\n\r\n    if (this.decodeToken(token.substr(this.prefix.length))) {\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n\r\n\r\n  decodeToken(token) {\r\n    if (token.length < this.prefix_token.length) {\r\n      return \"\";\r\n    } else {\r\n      token = token.substr(this.prefix_token.length);\r\n    }\r\n    try {\r\n      var base64Url = token.split('.')[1];\r\n      var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n      var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n      }).join(''));\r\n\r\n      return JSON.parse(jsonPayload);\r\n    } catch (e) {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n}\r\n"]}]}