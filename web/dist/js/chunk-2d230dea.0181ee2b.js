(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230dea"],{edb7:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vx-card",[s("vs-button",{attrs:{color:"primary"},on:{click:function(e){return t.addUser()}}},[t._v("Add User")]),s("vs-table",{attrs:{"max-items":"10",search:"",pagination:"",data:t.users},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,function(e,a){return s("vs-tr",{key:a},[s("vs-td",{attrs:{data:e.username}},[t._v(t._s(e.username))]),s("vs-td",{attrs:{data:e.email}},[t._v(t._s(e.email))]),s("vs-td",{attrs:{data:e.first_name+" "+e.last_name}},[t._v(t._s(e.first_name+" "+e.last_name))]),s("vs-td",{attrs:{data:e.tel}},[t._v(t._s(e.tel))]),s("vs-td",[s("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-warning",attrs:{icon:"EditIcon",size:"small"},on:{click:function(s){t.editObj=Object.assign({},e),t.editObj.password="",t.title="Edit User",t.popupActive=!0}}})],1),s("vs-td",[s("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-danger",attrs:{icon:"Trash2Icon",size:"small"},on:{click:function(s){return t.delete_user(e)}}})],1)],1)})}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v("username")]),s("vs-th",[t._v("email")]),s("vs-th",[t._v("name-surname")]),s("vs-th",[t._v("tel")]),s("vs-th",[t._v("edit")]),s("vs-th",[t._v("delete")])],1)],2),s("vs-popup",{staticClass:"holamundo",attrs:{title:t.title,active:t.popupActive},on:{"update:active":function(e){t.popupActive=e}}},[t.change_password?t._e():s("EditUser",{ref:"editUserComponent",attrs:{editObj:t.editObj,roles:t.roles},on:{closepopup:t.closepopup}}),t.change_password?s("ChangePassword",{ref:"changepassword",attrs:{editObj:t.editObj},on:{closepopup:t.closepopup}}):t._e(),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("vs-button",{attrs:{color:"primary"},on:{click:function(e){t.change_password=!t.change_password}}},[t._v("\n          "+t._s(t.change_password?t.$t("edit user"):t.$t("change password"))+"\n        ")]),s("vs-button",{staticClass:"right",attrs:{color:"danger",type:"border"},on:{click:function(e){t.popupActive=!1}}},[t._v(t._s(t.$t("cancel")))]),s("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container right",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save")))])],1)],1),s("vs-popup",{staticClass:"holamundo",attrs:{title:t.title,active:t.addUserPopUp},on:{"update:active":function(e){t.addUserPopUp=e}}},[s("AddUser",{ref:"addUerComponent",attrs:{editObj:t.editObj,roles:t.roles},on:{closepopup:t.closepopup}}),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("vs-button",{staticClass:"right",attrs:{color:"danger",type:"border"},on:{click:function(e){t.addUserPopUp=!1}}},[t._v(t._s(t.$t("cancel")))]),s("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container right",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save")))])],1)],1)],1)},r=[],n=(s("96cf"),s("3040")),o=s("a322"),i=s("1298"),c=s("67cf"),d=s("7f58"),p=s("138f"),u={components:{EditUser:i["a"],ChangePassword:p["a"],AddUser:d["a"]},data:function(){return{submitted:!1,popupActive:!1,editObj:{},users:[],src_img:"",change_password:!1,roles:[],addUserPopUp:!1,title:"Add User",invalid:{}}},computed:{a:function(){return 1},b:function(){var t,e=this,s=function(t){return e.submitted&&""==e.editObj[t]};return t={first_name:s("first_name"),last_name:s("last_name"),email:s("email"),username:s("username"),role:s("role_id"),password:(!this.popupActive||this.change_password)&&s("password"),confirm_password:this.submitted&&this.editObj.password!=this.editObj.confirm_password},Object(o["a"])(t,"role",s("role")),Object(o["a"])(t,"old_password",this.change_password&&s("old_password")),t}},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getData();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{getData:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].postData("users/getUser",{});case 3:return e=t.sent,this.users=e.data,t.next=7,c["a"].postData("users/getRole",{});case 7:s=t.sent,this.roles=s.data,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),previewFiles:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s=new FileReader,s.readAsDataURL(e.target.files[0]),s.onload=function(){a.editObj.icon_image=s.result};case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),closepopup:function(){this.popupActive=!1,this.addUserPopUp=!1,this.getData()},addUser:function(){this.title="Add User",this.editObj={username:"",email:"",first_name:"",last_name:"",role_id:"",icon_image:"",tel:"",admin:"",password:""},this.addUserPopUp=!0},save:function(){this.popupActive?this.change_password?this.$refs.changepassword.save():this.$refs.editUserComponent.save():this.$refs.addUerComponent.save()}}},l=u,v=s("2877"),h=Object(v["a"])(l,a,r,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d230dea.0181ee2b.js.map