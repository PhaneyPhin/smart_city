{"version":3,"sources":["webpack:///./src/assets/flag.png","webpack:///./node_modules/@babel/runtime/helpers/builtin/es6/objectSpread.js","webpack:///./src/views/pages/devices/Device.vue?c965","webpack:///src/views/pages/devices/Device.vue","webpack:///./src/views/pages/devices/Device.vue?39a5","webpack:///./src/views/pages/devices/Device.vue"],"names":["module","exports","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","addDevice","_v","devices","scopedSlots","_u","fn","ref","data","_l","tr","indextr","device_id","_s","device_name","lat","lon","staticClass","addConfig","edit","delete_device","slot","viewConfig","configs","item","index","name","model","value","callback","$$v","$set","expression","save_config","$t","_e","title","popupActive","directives","rawName","errors","has","editObj","device_type_id","device_type_name","device_icon","previewFiles","staticStyle","first","save","onMapPostCompose","choose_position","zoom","center","rotation","start","Date","now","duration","feature","parseFloat","size","anchor_x","anchor_y","pointOnSurface","geometry","staticRenderFns","components","submitted","showing_device","sizes","rendermap","src_img","device_types","change_password","roles","computed","methods","password","$nextTick","closepopup","component"],"mappings":"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","file":"js/chunk-1f4aae39.67d33e74.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/flag.b9225040.png\";","import defineProperty from \"./defineProperty\";\r\nexport default function _objectSpread(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    var ownKeys = Object.keys(source);\r\n\r\n    if (typeof Object.getOwnPropertySymbols === 'function') {\r\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\r\n      }));\r\n    }\r\n\r\n    ownKeys.forEach(function (key) {\r\n      defineProperty(target, key, source[key]);\r\n    });\r\n  }\r\n\r\n  return target;\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vx-card',[_c('vs-button',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addDevice()}}},[_vm._v(\"Add Device\")]),_c('vs-table',{attrs:{\"max-items\":\"10\",\"search\":\"\",\"pagination\":\"\",\"data\":_vm.devices},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,indextr){return _c('vs-tr',{key:indextr},[_c('vs-td',{attrs:{\"data\":tr.device_id}},[_vm._v(_vm._s(tr.device_id))]),_c('vs-td',{attrs:{\"data\":tr.device_name}},[_vm._v(_vm._s(tr.device_name))]),_c('vs-td',{attrs:{\"data\":tr.lat}},[_vm._v(_vm._s(tr.lat))]),_c('vs-td',{attrs:{\"data\":tr.lon}},[_vm._v(_vm._s(tr.lon))]),_c('vs-td',[_c('feather-icon',{staticClass:\"cursor-pointer w-6 h-6 text-warning\",attrs:{\"icon\":\"EditIcon\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.addConfig(tr)}}})],1),_c('vs-td',[_c('feather-icon',{staticClass:\"cursor-pointer w-6 h-6 text-warning\",attrs:{\"icon\":\"EditIcon\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.edit(tr)}}})],1),_c('vs-td',[_c('feather-icon',{staticClass:\"cursor-pointer w-6 h-6 text-danger\",attrs:{\"icon\":\"Trash2Icon\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delete_device(tr)}}})],1)],1)})}}])},[_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"device_id\"}},[_vm._v(\"device id\")]),_c('vs-th',{attrs:{\"sort-key\":\"device_name\"}},[_vm._v(\"device name\")]),_c('vs-th',[_vm._v(\"lat\")]),_c('vs-th',[_vm._v(\"lon\")]),_c('vs-th',[_vm._v(\"add config\")]),_c('vs-th',[_vm._v(\"edit\")]),_c('vs-th',[_vm._v(\"delete\")])],1)],2),_c('vs-popup',{staticClass:\"holamundo\",attrs:{\"title\":\"View Config\",\"active\":_vm.viewConfig},on:{\"update:active\":function($event){_vm.viewConfig=$event}}},[(_vm.configs.length>0)?_c('div',{staticClass:\"w-full\"},[_vm._l((_vm.configs),function(item,index){return _c('vs-input',{key:index,staticClass:\"w-full mt-10\",attrs:{\"label-placeholder\":item.name,\"val-icon-warning\":\"warning\",\"name\":item.name,\"icon-pack\":\"feather\",\"icon\":\"icon-user\",\"icon-no-border\":\"\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})}),_c('div',{staticClass:\"mt-10\"},[_c('vs-button',{ref:\"loadableButton\",staticClass:\"vs-con-loading__container mr-5 ml-5\",attrs:{\"id\":\"button-with-loading\",\"vslor\":\"primary\"},on:{\"click\":function($event){return _vm.save_config()}}},[_vm._v(_vm._s(_vm.$t(\"save\")))]),_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"border\"},on:{\"click\":function($event){_vm.viewConfig = false}}},[_vm._v(_vm._s(_vm.$t(\"cancel\")))])],1)],2):_vm._e(),(_vm.configs.length==0)?_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"align-center center\"},[_vm._v(\"No config field in this device type\")])]):_vm._e()]),_c('vs-popup',{staticClass:\"holamundo\",attrs:{\"fullscreen\":\"\",\"title\":_vm.title,\"active\":_vm.popupActive},on:{\"update:active\":function($event){_vm.popupActive=$event}}},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"w-full md:w-1/2 mt-10 pl-5\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full\",attrs:{\"warning\":_vm.errors.has('device_name'),\"warning-text\":_vm.$t('device name is required'),\"label-placeholder\":_vm.$t('device name'),\"val-icon-warning\":\"warning\",\"name\":\"device_name\",\"icon-pack\":\"feather\",\"icon\":\"icon-user\",\"icon-no-border\":\"\"},model:{value:(_vm.editObj.device_name),callback:function ($$v) {_vm.$set(_vm.editObj, \"device_name\", $$v)},expression:\"editObj.device_name\"}})],1),_c('div',{staticClass:\"w-1/2 md:w-1/4 mt-10 pl-5 pr-5\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full\",attrs:{\"warning\":_vm.errors.has('lat'),\"warning-text\":_vm.$t('please select location in map'),\"label-placeholder\":_vm.$t('lat'),\"val-icon-warning\":\"warning\",\"name\":\"lat\",\"icon-pack\":\"feather\",\"icon\":\"icon-user\",\"icon-no-border\":\"\"},model:{value:(_vm.editObj.lat),callback:function ($$v) {_vm.$set(_vm.editObj, \"lat\", $$v)},expression:\"editObj.lat\"}})],1),_c('div',{staticClass:\"w-1/2 md:w-1/4 mt-10 pl-5 pr-5\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full\",attrs:{\"warning\":_vm.errors.has('lon'),\"warning-text\":_vm.$t('please select location in map'),\"label-placeholder\":_vm.$t('lon'),\"val-icon-warning\":\"warning\",\"name\":\"lon\",\"icon-pack\":\"feather\",\"icon\":\"icon-user\",\"icon-no-border\":\"\"},model:{value:(_vm.editObj.lon),callback:function ($$v) {_vm.$set(_vm.editObj, \"lon\", $$v)},expression:\"editObj.lon\"}})],1)]),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-full md:w-1/3 mt-10 mb-10\"},[_c('div',{staticClass:\"w-full pb-5\"},[_c('label',{staticClass:\"mt-10\"},[_vm._v(\"device type\")]),_c('vs-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full\",attrs:{\"warning\":_vm.errors.has('device_type'),\"warning-text\":_vm.$t('device type id is required'),\"val-icon-warning\":\"warning\",\"name\":\"device_type\"},model:{value:(_vm.editObj.device_type_id),callback:function ($$v) {_vm.$set(_vm.editObj, \"device_type_id\", $$v)},expression:\"editObj.device_type_id\"}},_vm._l((_vm.device_types),function(item,index){return _c('vs-select-item',{key:index,attrs:{\"value\":item.device_type_id,\"text\":item.device_type_name}})}),1)],1),_c('label',{staticClass:\"mt-10\",attrs:{\"for\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"device_icon\")))]),(_vm.editObj.device_icon == '' || _vm.editObj.device_icon == null)?_c('div',{staticClass:\"con-upload\"},[_c('div',{staticClass:\"con-img-upload\"},[_c('div',{staticClass:\"con-input-upload\"},[_c('input',{ref:\"myFiles\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.previewFiles}}),_c('span',{staticClass:\"text-input\"},[_vm._v(\"upload device icon\")]),_c('span',{staticClass:\"input-progress\",staticStyle:{\"width\":\"0%\"}}),_c('button',{staticClass:\"btn-upload-all vs-upload--button-upload\",attrs:{\"disabled\":\"disabled\",\"type\":\"button\",\"title\":\"Upload\"}},[_c('i',{staticClass:\"material-icons notranslate\",attrs:{\"translate\":\"translate\"}},[_vm._v(\"cloud_upload\")])])])])]):_vm._e(),(_vm.editObj.device_icon != '' && _vm.editObj.device_icon != null)?_c('div',{staticClass:\"con-upload\"},[_c('div',{staticClass:\"con-img-upload\"},[_c('div',{staticClass:\"img-upload\"},[_c('button',{staticClass:\"btn-x-file\",on:{\"click\":function($event){_vm.editObj.device_icon=''}}},[_c('i',{staticClass:\"material-icons notranslate\",attrs:{\"translate\":\"translate\"}},[_vm._v(\"clear\")])]),_c('button',{staticClass:\"btn-upload-file\"},[_c('i',{staticClass:\"material-icons notranslate\",attrs:{\"translate\":\"translate\"}},[_vm._v(\"cloud_upload\")]),_c('span',[_vm._v(\"%\")])]),_c('img',{staticStyle:{\"max-width\":\"none\",\"max-height\":\"100%\"},attrs:{\"src\":_vm.editObj.device_icon}})]),_c('div',{staticClass:\"con-input-upload disabled-upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"disabled\":\"disabled\"}}),_c('span',{staticClass:\"text-input\"},[_vm._v(\"upload profile picture\")]),_c('span',{staticClass:\"input-progress\",staticStyle:{\"width\":\"0%\"}}),_c('button',{staticClass:\"btn-upload-all vs-upload--button-upload\",attrs:{\"type\":\"button\",\"title\":\"Upload\"}},[_c('i',{staticClass:\"material-icons notranslate\",attrs:{\"translate\":\"translate\"}},[_vm._v(\"cloud_upload\")])])])])]):_vm._e(),_c('div',{staticClass:\"mt-10\"},[_c('h5',[_vm._v(\"Anchor (value 0-1)\")]),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"w-1/2 pl-5 pr-5\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|between:0,1'),expression:\"'required|between:0,1'\"}],staticClass:\"w-full\",attrs:{\"warning\":_vm.errors.has('anchor_x'),\"warning-text\":_vm.$t(_vm.errors.first('anchor_x')),\"label-placeholder\":_vm.$t('anchor x'),\"val-icon-warning\":\"warning\",\"name\":\"anchor_x\"},model:{value:(_vm.editObj.anchor_x),callback:function ($$v) {_vm.$set(_vm.editObj, \"anchor_x\", $$v)},expression:\"editObj.anchor_x\"}})],1),_c('div',{staticClass:\"w-1/2 pl-5 pr-5\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|between:0,1'),expression:\"'required|between:0,1'\"}],staticClass:\"w-full\",attrs:{\"warning\":_vm.errors.has('anchor_y'),\"warning-text\":_vm.$t(_vm.errors.first('anchor_y')),\"label-placeholder\":_vm.$t('anchor y'),\"val-icon-warning\":\"warning\",\"name\":\"anchor_y\"},model:{value:(_vm.editObj.anchor_y),callback:function ($$v) {_vm.$set(_vm.editObj, \"anchor_y\", $$v)},expression:\"editObj.anchor_y\"}})],1),_c('div',{staticClass:\"w-1/2 pl-5 pr-5\"},[_c('label',{staticClass:\"mt-10\"},[_vm._v(\"size\")]),_c('vs-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full\",attrs:{\"warning\":_vm.errors.has('size'),\"warning-text\":_vm.$t('size is required'),\"val-icon-warning\":\"warning\",\"name\":\"size\"},model:{value:(_vm.editObj.size),callback:function ($$v) {_vm.$set(_vm.editObj, \"size\", $$v)},expression:\"editObj.size\"}},_vm._l((_vm.sizes),function(item,index){return _c('vs-select-item',{key:index,attrs:{\"value\":item,\"text\":item}})}),1)],1)])]),_c('div',{staticClass:\"mt-10\"},[_c('vs-button',{ref:\"loadableButton\",staticClass:\"vs-con-loading__container mr-5 ml-5\",attrs:{\"id\":\"button-with-loading\",\"vslor\":\"primary\"},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(_vm._s(_vm.$t(\"save\")))]),_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"border\"},on:{\"click\":function($event){_vm.popupActive = false}}},[_vm._v(_vm._s(_vm.$t(\"cancel\")))])],1)]),_c('div',{staticClass:\"vx-col w-full md:w-2/3 p-5 \"},[(_vm.rendermap)?_c('vl-map',{ref:\"map\",staticStyle:{\"height\":\"700px\"},attrs:{\"load-tiles-while-animating\":true,\"load-tiles-while-interacting\":true,\"data-projection\":\"EPSG:4326\"},on:{\"postcompose\":_vm.onMapPostCompose,\"click\":_vm.choose_position}},[_c('vl-view',{attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center,\"rotation\":_vm.rotation},on:{\"update:zoom\":function($event){_vm.zoom=$event},\"update:center\":function($event){_vm.center=$event},\"update:rotation\":function($event){_vm.rotation=$event}}}),_c('vl-layer-tile',{attrs:{\"id\":\"osm\"}},[_c('vl-source-osm')],1),_c('vl-layer-tile',{attrs:{\"id\":\"osm\"}},[_c('vl-source-osm')],1),_c('vl-feature',{ref:\"marker\",attrs:{\"id\":\"marker\",\"properties\":{ start: Date.now(), duration: 1000 }},scopedSlots:_vm._u([{key:\"default\",fn:function(feature){return [_c('vl-geom-point',{attrs:{\"coordinates\":_vm.editObj.lat==''||_vm.editObj.lon==''?[0,0]:[parseFloat(_vm.editObj.lon),parseFloat(_vm.editObj.lat)]}}),_c('vl-style-box',[_c('vl-style-icon',{attrs:{\"src\":_vm.editObj.device_icon==''?require('@/assets/flag.png'):_vm.editObj.device_icon,\"scale\":_vm.editObj.size?_vm.editObj.size:1,\"anchor\":_vm.editObj.anchor_x==''||_vm.editObj.anchor_y==''?[0.1, 0.95]:[_vm.editObj.anchor_x,_vm.editObj.anchor_y],\"size\":[128, 128]}})],1),(feature.geometry)?_c('vl-overlay',{attrs:{\"position\":_vm.pointOnSurface(feature.geometry),\"offset\":[10, 10]}}):_vm._e()]}}],null,false,3833031685)})],1):_vm._e()],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <vx-card>\r\n    <vs-button color=\"primary\" @click=\"addDevice()\">Add Device</vs-button>\r\n    <vs-table max-items=\"10\" search pagination :data=\"devices\">\r\n      <template slot=\"thead\">\r\n        <vs-th sort-key=\"device_id\">device id</vs-th>\r\n        <vs-th sort-key=\"device_name\">device name</vs-th>\r\n        <vs-th>lat</vs-th>\r\n        <vs-th>lon</vs-th>\r\n        <vs-th>add config</vs-th>\r\n        <vs-th>edit</vs-th>\r\n        <vs-th>delete</vs-th>\r\n      </template>\r\n\r\n      <template slot-scope=\"{data}\">\r\n        <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n          <vs-td :data=\"tr.device_id\">{{ tr.device_id }}</vs-td>\r\n\r\n          <vs-td :data=\"tr.device_name\">{{ tr.device_name }}</vs-td>\r\n          <vs-td :data=\"tr.lat\">{{ tr.lat}}</vs-td>\r\n\r\n          <vs-td :data=\"tr.lon\">{{ tr.lon }}</vs-td>\r\n          <vs-td > \r\n            <feather-icon\r\n              icon=\"EditIcon\"\r\n              class=\"cursor-pointer w-6 h-6 text-warning\"\r\n              size=\"small\"\r\n              @click=\"\r\n                        addConfig(tr)\r\n                      \"\r\n            ></feather-icon>\r\n          </vs-td>\r\n          <vs-td > \r\n            <feather-icon\r\n              icon=\"EditIcon\"\r\n              class=\"cursor-pointer w-6 h-6 text-warning\"\r\n              size=\"small\"\r\n              @click=\"\r\n                        edit(tr)\r\n                      \"\r\n            ></feather-icon>\r\n          </vs-td>\r\n          <vs-td>\r\n            <feather-icon\r\n              icon=\"Trash2Icon\"\r\n              class=\"cursor-pointer w-6 h-6 text-danger\"\r\n              size=\"small\"\r\n              @click=\"delete_device(tr)\"\r\n            ></feather-icon>\r\n          </vs-td>\r\n        </vs-tr>\r\n      </template>\r\n    </vs-table>\r\n    <vs-popup class=\"holamundo\" title=\"View Config\" :active.sync=\"viewConfig\">\r\n          <div class=\"w-full\" v-if=\"configs.length>0\">\r\n            <vs-input v-for=\"(item,index) in configs\" :key=\"index\"\r\n                :label-placeholder=\"item.name\"\r\n                val-icon-warning=\"warning\"\r\n                :name=\"item.name\"\r\n                v-model=\"item.value\"\r\n                class=\"w-full mt-10\"\r\n                icon-pack=\"feather\"\r\n                icon=\"icon-user\"\r\n                icon-no-border\r\n                />\r\n              <div class=\"mt-10\">\r\n                 <vs-button\r\n                        ref=\"loadableButton\"\r\n                        id=\"button-with-loading\"\r\n                        class=\"vs-con-loading__container mr-5 ml-5\"\r\n                        vslor=\"primary\"\r\n                        @click=\"save_config()\"\r\n                    >{{ $t(\"save\") }}</vs-button>\r\n                     <vs-button\r\n                       \r\n                        color=\"danger\"\r\n                        type=\"border\"\r\n                        @click=\"viewConfig = false\"\r\n                    >{{ $t(\"cancel\") }}</vs-button>\r\n                   \r\n                </div>\r\n          </div>\r\n          <div class=\"w-full\" v-if=\"configs.length==0\">\r\n            <div class=\"align-center center\">No config field in this device type</div>\r\n          </div>\r\n    </vs-popup>\r\n    <vs-popup class=\"holamundo\"  fullscreen :title=\"title\" :active.sync=\"popupActive\">\r\n        \r\n        <div class=\"vx-row\">\r\n        <div class='w-full md:w-1/2 mt-10 pl-5'>\r\n             <vs-input\r\n                :warning=\"errors.has('device_name')\"\r\n                :warning-text=\"$t('device name is required')\"\r\n                :label-placeholder=\"$t('device name')\"\r\n                val-icon-warning=\"warning\"\r\n                v-validate=\"'required'\"\r\n                name=\"device_name\"\r\n                v-model=\"editObj.device_name\"\r\n                class=\"w-full\"\r\n                icon-pack=\"feather\"\r\n                icon=\"icon-user\"\r\n                icon-no-border\r\n                />\r\n        </div>\r\n\r\n        <div class=\"w-1/2 md:w-1/4 mt-10 pl-5 pr-5\">\r\n            <vs-input\r\n                :warning=\"errors.has('lat')\"\r\n                :warning-text=\"$t('please select location in map')\"\r\n                :label-placeholder=\"$t('lat')\"\r\n                val-icon-warning=\"warning\"\r\n                v-validate=\"'required'\"\r\n                name=\"lat\"\r\n                v-model=\"editObj.lat\"\r\n                class=\"w-full\"\r\n                icon-pack=\"feather\"\r\n                icon=\"icon-user\"\r\n                icon-no-border\r\n                />\r\n        </div>\r\n        \r\n        <div class=\"w-1/2 md:w-1/4 mt-10 pl-5 pr-5\">\r\n             <vs-input\r\n                :warning=\"errors.has('lon')\"\r\n                :warning-text=\"$t('please select location in map')\"\r\n                :label-placeholder=\"$t('lon')\"\r\n                val-icon-warning=\"warning\"\r\n                v-validate=\"'required'\"\r\n                name=\"lon\"\r\n                v-model=\"editObj.lon\"\r\n                class=\"w-full\"\r\n                icon-pack=\"feather\"\r\n                icon=\"icon-user\"\r\n                icon-no-border\r\n                />\r\n                \r\n        </div>\r\n        </div>\r\n        <div class=\"vx-row\">\r\n            <div class=\"vx-col w-full md:w-1/3 mt-10 mb-10\">\r\n            <div class=\"w-full pb-5\">\r\n                \r\n                \r\n                        <label class=\"mt-10\">device type</label>\r\n                       <vs-select \r\n                            :warning=\"errors.has('device_type')\"\r\n                            :warning-text=\"$t('device type id is required')\"\r\n                            val-icon-warning=\"warning\"\r\n                            v-validate=\"'required'\"\r\n                            name=\"device_type\"\r\n                            class=\"w-full\" v-model=\"editObj.device_type_id\"\r\n                            >\r\n                          <vs-select-item\r\n                            :value=\"item.device_type_id\"\r\n                            :text=\"item.device_type_name\"\r\n                            :key=\"index\"\r\n                            v-for=\"(item,index) of device_types\"\r\n                          />\r\n                      </vs-select>\r\n            </div>\r\n            <label class=\"mt-10\" for>{{ $t(\"device_icon\") }}</label>\r\n            <div class=\"con-upload\" v-if=\"editObj.device_icon == '' || editObj.device_icon == null\">\r\n              <!---->\r\n              <div class=\"con-img-upload\">\r\n                <div class=\"con-input-upload\">\r\n                  <input type=\"file\" @change=\"previewFiles\" ref=\"myFiles\" />\r\n                  <span class=\"text-input\">upload device icon</span>\r\n                  <span class=\"input-progress\" style=\"width: 0%;\"></span>\r\n                  <button\r\n                    disabled=\"disabled\"\r\n                    type=\"button\"\r\n                    title=\"Upload\"\r\n                    class=\"btn-upload-all vs-upload--button-upload\"\r\n                  >\r\n                    <i translate=\"translate\" class=\"material-icons notranslate\">cloud_upload</i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"con-upload\" v-if=\"editObj.device_icon != '' && editObj.device_icon != null\">\r\n              <div class=\"con-img-upload\">\r\n                <div class=\"img-upload\">\r\n                  <button class=\"btn-x-file\" @click=\"editObj.device_icon=''\">\r\n                    <i translate=\"translate\" class=\"material-icons notranslate\">clear</i>\r\n                  </button>\r\n                  <button class=\"btn-upload-file\">\r\n                    <i translate=\"translate\" class=\"material-icons notranslate\">cloud_upload</i>\r\n                    <span>%</span>\r\n                  </button>\r\n                  <img :src=\"editObj.device_icon\" style=\"max-width: none; max-height: 100%;\" />\r\n                  <!---->\r\n                </div>\r\n                <div class=\"con-input-upload disabled-upload\">\r\n                  <input type=\"file\" accept=\"image/*\" disabled=\"disabled\" />\r\n                  <span class=\"text-input\">upload profile picture</span>\r\n                  <span class=\"input-progress\" style=\"width: 0%;\"></span>\r\n                  <button\r\n                    type=\"button\"\r\n                    title=\"Upload\"\r\n                    class=\"btn-upload-all vs-upload--button-upload\"\r\n                  >\r\n                    <i translate=\"translate\" class=\"material-icons notranslate\">cloud_upload</i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"mt-10\">\r\n                <h5>Anchor (value 0-1)</h5>\r\n                <div class=\"vx-row\">\r\n                  <div class=\"w-1/2 pl-5 pr-5\">\r\n                     <vs-input\r\n                        :warning=\"errors.has('anchor_x')\"\r\n                        :warning-text=\"$t(errors.first('anchor_x'))\"\r\n                        :label-placeholder=\"$t('anchor x')\"\r\n                        val-icon-warning=\"warning\"\r\n                        v-validate=\"'required|between:0,1'\"\r\n                        name=\"anchor_x\"\r\n                        v-model=\"editObj.anchor_x\"\r\n                        class=\"w-full\"\r\n                        />\r\n                  </div>\r\n                  <div class=\"w-1/2 pl-5 pr-5\">\r\n                     <vs-input\r\n                        :warning=\"errors.has('anchor_y')\"\r\n                        :warning-text=\"$t(errors.first('anchor_y'))\"\r\n                        :label-placeholder=\"$t('anchor y')\"\r\n                        val-icon-warning=\"warning\"\r\n                        v-validate=\"'required|between:0,1'\"\r\n                        name=\"anchor_y\"\r\n                        v-model=\"editObj.anchor_y\"\r\n                        class=\"w-full\"\r\n                        />\r\n                  </div>\r\n                  <div class=\"w-1/2 pl-5 pr-5\">\r\n                        <label class=\"mt-10\">size</label>\r\n                       <vs-select \r\n                            :warning=\"errors.has('size')\"\r\n                            :warning-text=\"$t('size is required')\"\r\n                            val-icon-warning=\"warning\"\r\n                            v-validate=\"'required'\"\r\n                            name=\"size\"\r\n                            class=\"w-full\" v-model=\"editObj.size\"\r\n                            >\r\n                          <vs-select-item\r\n                            :value=\"item\"\r\n                            :text=\"item\"\r\n                            :key=\"index\"\r\n                            v-for=\"(item,index) of sizes\"\r\n                          />\r\n                      </vs-select>\r\n                  </div>\r\n                 \r\n                \r\n               \r\n                </div>\r\n            </div>\r\n            <div class=\"mt-10\">\r\n                 <vs-button\r\n                        ref=\"loadableButton\"\r\n                        id=\"button-with-loading\"\r\n                        class=\"vs-con-loading__container mr-5 ml-5\"\r\n                        vslor=\"primary\"\r\n                        @click=\"save()\"\r\n                    >{{ $t(\"save\") }}</vs-button>\r\n                     <vs-button\r\n                       \r\n                        color=\"danger\"\r\n                        type=\"border\"\r\n                        @click=\"popupActive = false\"\r\n                    >{{ $t(\"cancel\") }}</vs-button>\r\n                   \r\n                </div>\r\n          </div>\r\n          <div class=\"vx-col w-full md:w-2/3 p-5 \">\r\n            <vl-map v-if=\"rendermap\" :load-tiles-while-animating=\"true\"  ref=\"map\" :load-tiles-while-interacting=\"true\"\r\n             data-projection=\"EPSG:4326\" style=\"height: 700px\"  @postcompose=\"onMapPostCompose\" @click=\"choose_position\">\r\n                <vl-view :zoom.sync=\"zoom\" :center.sync=\"center\" :rotation.sync=\"rotation\"></vl-view>\r\n\r\n\r\n\r\n                <vl-layer-tile id=\"osm\">\r\n                    <vl-source-osm></vl-source-osm>\r\n                </vl-layer-tile>\r\n                <vl-layer-tile id=\"osm\">\r\n                    <vl-source-osm></vl-source-osm>\r\n                </vl-layer-tile>\r\n\r\n                <vl-feature id=\"marker\" ref=\"marker\" :properties=\"{ start: Date.now(), duration: 1000 }\">\r\n                    <template slot-scope=\"feature\">\r\n                    <vl-geom-point :coordinates=\"editObj.lat==''||editObj.lon==''?[0,0]:[parseFloat(editObj.lon),parseFloat(editObj.lat)]\"></vl-geom-point>\r\n                    <vl-style-box>\r\n                        <vl-style-icon :src=\"editObj.device_icon==''?require('@/assets/flag.png'):editObj.device_icon\" :scale=\"editObj.size?editObj.size:1\" :anchor=\"editObj.anchor_x==''||editObj.anchor_y==''?[0.1, 0.95]:[editObj.anchor_x,editObj.anchor_y]\" :size=\"[128, 128]\"></vl-style-icon>\r\n                    </vl-style-box>\r\n                    <!-- overlay binded to feature -->\r\n                    <vl-overlay v-if=\"feature.geometry\" :position=\"pointOnSurface(feature.geometry)\" :offset=\"[10, 10]\">\r\n                        \r\n                    </vl-overlay>\r\n                    </template>\r\n                </vl-feature>\r\n\r\n                    \r\n                </vl-map>\r\n          </div>\r\n        </div>\r\n        \r\n      </vs-popup>\r\n  </vx-card>\r\n</template>\r\n\r\n<script>\r\nimport EditUser from '../users/EditUser';\r\nimport service from '@/service/service';\r\nimport AddUser from '../users/AddUser';\r\nimport ChangePassword from '../users/ChangePassword';\r\nimport { createProj, addProj, findPointOnSurface, createStyle, createMultiPointGeom, loadingBBox } from 'vuelayers/lib/ol-ext'\r\nconst easeInOut = t => 1 - Math.pow(1 - t, 3)\r\nexport default {\r\n  components:{\r\n      EditUser,\r\n      ChangePassword,\r\n      AddUser\r\n  },\r\n  data() {\r\n    return {\r\n      submitted:false,\r\n      popupActive:false,\r\n      viewConfig:false,\r\n      editObj:{\r\n           lon:service.center[0],\r\n            lat:service.center[1],\r\n            size:1\r\n      },\r\n      showing_device:{},\r\n      sizes:[],\r\n      configs:[],\r\n      rendermap:false,\r\n      devices:[],\r\n      src_img:\"\",\r\n      device_types:[],\r\n     \r\n      change_password:false,\r\n      roles:[],\r\n      devices:[],\r\n      addUserPopUp:false,\r\n      title:\"Add Device\",\r\n       zoom: 8,\r\n        center: service.center ,\r\n        marker_post:service.center,\r\n        rotation: 0,\r\n        geolocPosition: undefined,\r\n      popupConfig:false,\r\n    };\r\n  },\r\n  computed:{\r\n    \r\n   \r\n  },\r\n  async created(){\r\n     this.getData();\r\n     for(var i=1;i<=40;i++){\r\n       this.sizes.push(i/10);\r\n     }\r\n  },\r\n  methods:{\r\n    edit(tr){\r\n      this.editObj = {...tr};\r\n      this.editObj.password='';\r\n      this.title='Edit Device'\r\n      this.popupActive = true;\r\n      this.$nextTick(()=>{\r\n        this.rendermap=true;\r\n      })\r\n    },\r\n    async delete_device(tr){\r\n      this.$swal({\r\n                title: this.$t(\"Delete this device?\"),\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                icon:'question',\r\n                confirmButtonColor: \"#3085d6\",\r\n                cancelButtonColor: \"#d33\",\r\n                cancelButtonText: this.$t(\"cancel\"),\r\n                confirmButtonText: this.$t(\"delete\"),\r\n                showLoaderOnConfirm: true,\r\n                preConfirm: () => {\r\n                return service\r\n                    .postData(\"device/deleteDevice\", { device_id: tr.device_id })\r\n                    .then(result => {\r\n                    return result;\r\n                    });\r\n                }\r\n            }).then(result => {\r\n                if (result.value) {\r\n                if (result.value.code) {\r\n                    this.$swal(this.$t(\"data was deleted\"), \"\", \"success\").then(result => {\r\n                    this.getData();\r\n                    });\r\n                } else {\r\n                    this.$swal(result.value.message, \"\", \"error\");\r\n                }\r\n                }\r\n            });\r\n    },\r\n    async save_config(){\r\n      var obj={};\r\n      this.configs.forEach((item)=>{\r\n          obj[item.name]=item.value;\r\n      })\r\n      obj=JSON.stringify(obj);\r\n\r\n      try{\r\n        var configRespnse=await this.$service.postData('device/updateDeviceConfig',{device_id:this.showing_device.device_id,config:obj});\r\n        if(configRespnse.code==1){\r\n          \r\n          this.viewConfig=false;\r\n          await this.$swal('data was saved!','','success');\r\n\r\n        }else{\r\n          this.viewConfig=false;\r\n          await this.$swal('',configRespnse.message,'error');\r\n        }\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n    },\r\n    async getData(){\r\n         try{\r\n            var deviceResponse=await service.postData(\"device/getDevice\",{});\r\n            this.devices=deviceResponse.data;\r\n            var device_typeResponse=await this.$service.postData('device-type/getDeviceType',{});\r\n            this.device_types=device_typeResponse.data;\r\n           \r\n      }catch(e){\r\n          console.log(e);\r\n      }\r\n    },\r\n    async previewFiles(event) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = () => {\r\n        this.editObj.device_icon = reader.result;\r\n      };\r\n    },\r\n    closepopup(){\r\n        this.popupActive=false;\r\n        this.addUserPopUp=false;\r\n        this.getData();\r\n    }\r\n    ,\r\n    addDevice(){\r\n        this.title=\"Add Device\";\r\n        this.editObj={\r\n           device_id:\"\",\r\n           device_name:\"\",\r\n           device_icon:\"\",\r\n           device_type_id:\"\",\r\n            lon:service.center[0],\r\n            lat:service.center[1],\r\n            anchor_x:0.1,\r\n            anchor_y:0.95,\r\n            size:1\r\n        }\r\n        this.$nextTick(()=>{\r\n            this.rendermap=true;\r\n        })\r\n        this.popupActive=true;\r\n\r\n    },\r\n    choose_position(e){\r\n        this.editObj.lon=e.coordinate[0];\r\n        this.editObj.lat=e.coordinate[1];\r\n    },\r\n    save(){\r\n        this.$validator.validateAll().then(async result => {\r\n            if(result){\r\n                var url=\"\";\r\n                if(this.editObj.device_id==\"\"){\r\n                    var result=await this.$service.postData('device/addDevice',this.editObj);\r\n                }else{\r\n                    var result=await this.$service.postData('device/updateDevice',this.editObj);\r\n                }\r\n                \r\n                if(result.code==1){\r\n                        this.$swal(this.$t('data was saved!!'),'','success');\r\n                    }  else{\r\n                        this.$vs.notify({\r\n                            title:'Danger',\r\n                            text:result.message,\r\n                            color:'success'\r\n                        })\r\n                    }   \r\n                this.popupActive=false;\r\n                this.getData();\r\n            }\r\n        });\r\n        \r\n        },\r\n        async addConfig(tr){\r\n          this.viewConfig=true;\r\n          this.showing_device=tr;\r\n          try{\r\n             var configResponse=await this.$service.postData('device/getDeviceConfig',{device_id:tr.device_id});\r\n             if(configResponse.code==1){\r\n               this.configs=configResponse.data;\r\n               console.log(this.configs);\r\n             }else{\r\n               this.viewConfig=false;\r\n               this.$swal('',configResponse.message,'error');\r\n             }\r\n          }catch(e){\r\n            console.log(e);\r\n          }\r\n        },\r\n        parseFloat:parseFloat,\r\n        pointOnSurface: findPointOnSurface,\r\n        onMapPostCompose ({ vectorContext, frameState }) {\r\n            // document.querySelector('canvas').style.filter=\"invert(90%)\"\r\n            if (!this.$refs.marker || !this.$refs.marker.$feature) return\r\n\r\n            const feature = this.$refs.marker.$feature\r\n            if (!feature.getGeometry() || !feature.getStyle()) return\r\n\r\n            const flashGeom = feature.getGeometry().clone()\r\n            const duration = feature.get('duration')\r\n            const elapsed = frameState.time - feature.get('start')\r\n            const elapsedRatio = elapsed / duration\r\n            const radius = easeInOut(elapsedRatio) * 35 + 5\r\n            const opacity = easeInOut(1 - elapsedRatio)\r\n            const fillOpacity = easeInOut(0.5 - elapsedRatio)\r\n\r\n            vectorContext.setStyle(createStyle({\r\n                imageRadius: radius,\r\n                fillColor: [119, 170, 203, fillOpacity],\r\n                strokeColor: [119, 170, 203, opacity],\r\n                strokeWidth: 2 + opacity,\r\n            }))\r\n\r\n            vectorContext.drawGeometry(flashGeom)\r\n            vectorContext.setStyle(feature.getStyle()(feature)[0])\r\n            vectorContext.drawGeometry(feature.getGeometry())\r\n\r\n            if (elapsed > duration) {\r\n                feature.set('start', Date.now())\r\n            }\r\n\r\n       this.$refs.map.render()\r\n    },\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Device.vue?vue&type=template&id=03c6b2c6&\"\nimport script from \"./Device.vue?vue&type=script&lang=js&\"\nexport * from \"./Device.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}